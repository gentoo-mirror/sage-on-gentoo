diff -Naur src.orig/sage/doctest/sources.py src/sage/doctest/sources.py
--- src.orig/sage/doctest/sources.py	2015-06-26 13:31:36.758427460 +1200
+++ src/sage/doctest/sources.py	2015-06-26 13:32:00.478505270 +1200
@@ -27,7 +27,7 @@
 from parsing import SageDocTestParser
 from util import NestedName
 from sage.structure.dynamic_class import dynamic_class
-from sage.env import SAGE_SRC, SAGE_LOCAL
+from sage.env import SAGE_SRC, SAGE_LOCAL, SAGE_LIB
 
 # Python file parsing
 triple_quotes = re.compile("\s*[rRuU]*((''')|(\"\"\"))")
@@ -80,7 +80,7 @@
     # If the file is in the sage library, we can use our knowledge of
     # the directory structure
     dev = SAGE_SRC
-    sp = os.path.join(SAGE_LOCAL, 'lib', 'python', 'site-packages')
+    sp = SAGE_LIB
     if path.startswith(dev):
         # there will be a branch name
         i = path.find(os.path.sep, len(dev))
diff -Naur src.orig/setup.py src/setup.py
--- src.orig/setup.py	2015-06-26 13:31:36.818427657 +1200
+++ src/setup.py	2015-06-26 13:36:20.859359140 +1200
@@ -613,7 +613,7 @@
 t = time.time()
 from sage_setup.find import find_python_sources
 python_packages, python_modules = find_python_sources(
-    SAGE_SRC, ['sage', 'sage_setup'])
+    SAGE_SRC, ['sage'])
 print("Discovered Python source, time: %.2f seconds." % (time.time() - t))
 
 
@@ -624,9 +624,11 @@
 python_package_data = {}
 for package in python_packages:
     if package == 'sage.libs.ntl':
-        python_package_data[package] = ['*.pxd', '*.pxi', '*.h', 'ntlwrap.cpp']
+        python_package_data[package] = ['*.pyx', '*.pxd', '*.pxi', '*.h', 'ntlwrap.cpp']
+    elif package == 'sage.doctest':
+        python_package_data[package] = ['tests/*']
     else:
-        python_package_data[package] = ['*.pxd', '*.pxi', '*.h']
+        python_package_data[package] = ['*.pyx', '*.pxd', '*.pxi', '*.h']
 
 # List of files generated by cython that needs to be installed.
 # The list gives the location of the files to be installed relative to SAGE_LIB.
